# MarketSenseAI 2.0 - 한국 증시 전용 설정

database:
  url: "postgresql://yrbahn@localhost:5432/marketsense"
  # SQLite: "sqlite:///data/marketsense.db"
  echo: false

llm:
  provider: google  # google (Gemini)
  gemini_model: gemini-flash-latest
  temperature: 0.2
  max_tokens: 4096

# ═══════════════════════════════════════════
# 1. 뉴스 데이터 소스 (한국)
# ═══════════════════════════════════════════
news:
  sources:
    - name: naver_stock
      type: api
      base_url: "https://m.stock.naver.com/api/news/stock"
  lookback_days: 30
  max_articles_per_stock: 100  # 페이지당 20개 → 5페이지 (100개)
  pages_to_collect: 5  # 여러 페이지 수집

# ═══════════════════════════════════════════
# 2. 재무제표 데이터 소스 (한국)
# ═══════════════════════════════════════════
fundamentals:
  dart_filings:
    enabled: false  # 향후 DART API 추가 예정
    api_key_env: DART_API_KEY
  financial_statements:
    provider: yfinance
    quarters: 8  # 2년치

# ═══════════════════════════════════════════
# 3. 주가/기술지표 데이터 소스 (한국)
# ═══════════════════════════════════════════
dynamics:
  price_source: yfinance
  lookback_days: 365
  indicators:
    - sma_20
    - sma_50
    - sma_200
    - rsi_14
    - macd
    - bollinger_bands
    - atr_14
    - volume_sma_20
  peer_comparison: true
  benchmark: "^KS11"  # KOSPI 지수

# ═══════════════════════════════════════════
# 4. 매크로 경제 데이터 소스 (한국)
# ═══════════════════════════════════════════
macro:
  sources:
    - name: bok_rss
      type: rss
      url: "https://www.bok.or.kr/portal/bbs/B0000245/rss.do"
    - name: bok_api
      type: api
      api_key_env: BOK_API_KEY
      base_url: "https://ecos.bok.or.kr/api"
      indicators:
        - code: "722Y001"
          name: "GDP_growth"
        - code: "901Y009"
          name: "CPI_inflation"
        - code: "722Y003"
          name: "unemployment"
        - code: "817Y002"
          name: "base_rate"
  report_cache_dir: "./data/macro_reports"

# ═══════════════════════════════════════════
# 종목 유니버스 (한국 증시)
# ═══════════════════════════════════════════
universe:
  markets:
    - KOSPI
    - KOSDAQ
  # top_n: 100  # 시총 상위 N개 (optional)

# ═══════════════════════════════════════════
# 수집 스케줄
# ═══════════════════════════════════════════
schedule:
  news: "0 */6 * * *"        # 6시간마다
  fundamentals: "0 2 * * 1"  # 매주 월요일 02:00
  dynamics: "0 16 * * 1-5"   # 장 마감 후 (15:30 종가 + 30분 버퍼)
  macro: "0 3 * * 1"         # 매주 월요일 03:00

logging:
  level: INFO
  file: ./logs/pipeline.log
